#!/usr/bin/env sh

# Get current branch name
branch=$(git symbolic-ref --short HEAD 2>/dev/null)

# Block direct commits to main branch
if [ "$branch" = "main" ]; then
  echo "Error: Direct commits to 'main' branch are not allowed."
  echo "Please use git flow workflow:"
  echo "  1. Create a feature branch: git checkout -b feature/your-feature develop"
  echo "  2. Make your changes and commit"
  echo "  3. Merge back to develop"
  echo "  4. Create a release or hotfix for main"
  exit 1
fi

# Run lint before commit
npm run lint
